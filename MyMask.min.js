const numberMask=({form:e,input:a})=>{let s={mask:"+7 (___) ___ ____",lastNumber:""};e.querySelector(a).addEventListener("focus",e=>{e.target.value=s.mask}),e.querySelector(a).addEventListener("keydown",e=>{if("Backspace"==e.key&&"("!=s.lastNumber){e.preventDefault(),s.mask=s.mask.split("");var a=s.mask.lastIndexOf(s.lastNumber);for(let e=a-1;0<e&&(console.log("1"),s.lastNumber=s.mask[e]," "==s.lastNumber||")"==s.lastNumber);e--);s.mask[a]="_",s.mask=s.mask.join("")}else null!=e.key&&RegExp(/_/).test(s.mask)&&""!=e.key.replace(/([^\d]|\,)/gi,"")&&(s.mask=s.mask.replace(/_/,e.key),s.lastNumber=e.key);setTimeout(()=>{e.target.value=s.mask})});form.addEventListener('submit',()=>{phoneMask.mask = "+7 (___) ___ ____"})};export{numberMask};
